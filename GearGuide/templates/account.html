{% extends "base.html" %}
{% block title %}My Account Â· {{ app_name or 'GearGuide' }}{% endblock %}
{% block content %}
<section class="center-col">
  <p class="kicker">Account</p>
  <h1>My Account</h1>

  <!-- Profile box: username + email -->
  <div class="card">
    <h2>Profile</h2>
    <form method="post" action="{{ url_for('main.account') }}">
      <input type="hidden" name="form_type" value="profile">

      <div class="field">
        <label for="username">Username</label>
        <input
          id="username"
          name="username"
          value="{{ current_user.username }}"
          required>
        <small class="muted">This is how friends and trip members see you.</small>
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input
          id="email"
          name="email"
          type="email"
          value="{{ current_user.email }}"
          required>
        <small class="muted">Used for login and invitations.</small>
      </div>

      <div class="field">
        <button class="btn accent" type="submit">Save profile</button>
      </div>
    </form>
  </div>

  <!-- Change password box -->
  <div class="card" style="margin-top: 1rem;">
    <h2>Change Password</h2>
    <form method="post" action="{{ url_for('main.account') }}">
      <input type="hidden" name="form_type" value="password">

      <div class="field">
        <label for="current_password">Current password</label>
        <input
          id="current_password"
          name="current_password"
          type="password"
          placeholder="Enter your current password">
      </div>

      <div class="field">
        <label for="new_password">New password</label>
        <input
          id="new_password"
          name="new_password"
          type="password"
          placeholder="At least 8 characters">
      </div>

      <div class="field">
        <label for="confirm_password">Confirm new password</label>
        <input
          id="confirm_password"
          name="confirm_password"
          type="password"
          placeholder="Re-enter new password">
      </div>

      <div class="field">
        <button class="btn accent" type="submit">Update password</button>
      </div>
    </form>
  </div>
</section>
{% endblock %}